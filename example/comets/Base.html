<!doctype html>
<html lang="en" server>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <Tailwind @="base" />
    <Ts @="picomet/comet.ts" defer />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.13.7/cdn.min.js"
      integrity="sha512-kJ22SdASORIix8XIrKdqHU4+nBMOg5qAWigToRMshSGut+Nn6axu6cfecNay5piPo/v9QZYI38ZIGQw2tlCaYQ=="
      crossorigin="anonymous"
      defer
    ></script>
    <Ts @="main.ts" />
    <Debug>
      <Ts @="picomet/hmr.ts" />
    </Debug>
  </head>

  <body
    s-prop:_v="request.GET.get('v', '')"
    x-data="{v: _v}"
    x-init="navigation.addEventListener('navigate', () => {
      setTimeout(() => {
        $data.v = new URLSearchParams(location.search).get('v');
      }, 0);
    });"
  >
    <main>
      <Include @="components/Navbar" />
      <div s-group="page">
        <Outlet />
      </div>
      <Include @="components/Login" />
      <Include @="components/Signup" />
    </main>
  </body>
</html>
